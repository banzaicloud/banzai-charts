apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ template "fullname" . }}
data:
  config.toml: |-
    #environment
    #Generated by helm

    [dev]

    #database settings
    dialect = "mysql"
    port = 3306

    #logger settings
    logformat = "text"
    loglevel = "debug"

    #cloud profiles
    cloudprovider = "aws"
    cloudprofile = "default" #defaults to func getCluster - see https://github.com/kris-nova/kubicorn/tree/master/profiles
    #helm properties
    chartpath = "/opt/helm"
    #
    [auth]
    enabled = {{ .Values.auth.enabled }}
    clientid = "{{ .Values.auth.clientid }}"
    clientsecret = "{{ .Values.auth.clientid }}"
    tokensigningkey = "{{ randAlphaNum 16 }}"
