apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "pipeline.fullname" . }}
  labels:
    app: {{ include "pipeline.name" . }}
    chart: {{ include "pipeline.chart" . }}
    release: "{{ .Release.Name }}"
    heritage: "{{ .Release.Service }}"
data:
  config.toml: |-
    #environment
    #Generated by helm

    [database]
    dialect = "mysql"
    port = 3306

    [logging]
    logformat = "text"
    loglevel = "debug"
    kubicornloglevel = "debug"

    [cors]

    [auth]
    jwtissueer = "https://banzaicloud.com/"
    jwtaudience = "https://pipeline.banzaicloud.com"

    [helm]
    retryAttempt = 30
    retrySleepSeconds = 15

    stableRepositoryURL = "https://kubernetes-charts.storage.googleapis.com"
    banzaiRepositoryURL = "http://kubernetes-charts.banzaicloud.com"

